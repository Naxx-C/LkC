#include <arcfault_algo.h>
#include <stdio.h>

float current[128] = { -40.283203, -41.796875, -42.67578, -42.382812, -42.333984, -42.871094, -43.359375,
        -43.45703, -43.45703, -43.359375, -43.45703, -43.01758, -41.992188, -40.478516, -38.03711, -36.42578,
        -35.44922, -34.32617, -33.251953, -32.421875, -30.46875, -29.492188, -28.076172, -26.513672,
        -25.146484, -24.072266, -22.753906, -21.289062, -19.628906, -17.333984, -15.576172, -13.916016,
        -11.425781, -9.228516, -7.1777344, -5.7128906, -4.1992188, -2.3925781, -0.09765625, 1.3671875,
        1.7578125, 1.7089844, 1.7089844, 1.5625, 1.5136719, 1.6601562, 1.6113281, 1.4648438, 1.7089844,
        1.4648438, 1.5625, 1.3671875, 1.7089844, 1.6601562, 18.896484, 26.464844, 28.515625, 29.003906,
        30.273438, 31.542969, 32.910156, 34.61914, 36.914062, 38.76953, 40.13672, 41.11328, 41.845703,
        42.1875, 41.992188, 42.333984, 42.822266, 42.91992, 43.115234, 43.01758, 43.164062, 42.822266,
        41.845703, 40.283203, 38.134766, 36.42578, 35.302734, 34.228516, 32.910156, 32.177734, 30.46875,
        29.394531, 28.125, 26.80664, 25.292969, 23.925781, 22.851562, 21.484375, 19.580078, 17.138672,
        15.8203125, 13.964844, 11.230469, 9.228516, 7.421875, 5.810547, 4.345703, 2.5390625, 0.34179688,
        -1.2207031, -1.7089844, -1.6601562, -1.4648438, -1.4160156, -1.5136719, -1.7089844, -1.2695312,
        -1.3183594, -1.6113281, -1.4160156, -1.4160156, -1.2695312, -1.6113281, -1.6601562, -22.802734,
        -25.585938, -27.685547, -28.271484, -29.394531, -31.542969, -32.958984, -34.86328, -36.621094,
        -38.57422 };
float current2[128] = { 0.09765625, 0.0, 0.048828125, 0.048828125, -0.24414062, -0.390625, -0.34179688,
        -0.390625, -0.48828125, -0.48828125, -0.5371094, -0.5371094, -0.5371094, -0.6347656, -0.48828125,
        -0.5859375, -0.48828125, -0.5371094, 0.0, 0.09765625, 0.048828125, -0.09765625, 0.0, -0.14648438,
        -0.14648438, -0.24414062, -0.24414062, -0.1953125, -0.24414062, -0.09765625, 0.09765625, 0.29296875,
        0.43945312, 0.5371094, 0.5859375, 0.6347656, 0.5371094, 0.5371094, 0.6347656, 0.68359375, 0.7324219,
        0.87890625, 0.8300781, 1.2207031, 0.78125, 0.87890625, 0.78125, 0.78125, 0.7324219, 0.6347656,
        0.78125, 0.78125, 0.7324219, 0.78125, 0.68359375, 0.6347656, 0.48828125, 0.5371094, 0.48828125,
        0.48828125, 0.43945312, 0.34179688, 0.34179688, 0.1953125, 0.14648438, 0.09765625, 0.1953125,
        0.14648438, -0.14648438, -0.5371094, 0.390625, -0.1953125, 0.8300781, -0.7324219, 0.1953125,
        0.5859375, 0.48828125, 0.34179688, -0.6347656, -0.1953125, 0.1953125, 0.0, -0.24414062, -0.48828125,
        -0.7324219, -0.43945312, 0.09765625, 0.8300781, 1.171875, 0.7324219, 2.0996094, -0.43945312,
        0.34179688, 0.7324219, -0.24414062, 0.5859375, -2.2949219, 1.3183594, -1.6113281, -0.87890625,
        0.29296875, 0.6347656, 0.78125, -0.6347656, 0.68359375, 0.09765625, 0.0, -0.048828125, -0.390625,
        0.048828125, 0.09765625, 0.14648438, 0.24414062, 0.390625, 0.24414062, 0.14648438, 0.29296875,
        0.29296875, 0.34179688, 0.43945312, 0.34179688, 0.43945312, 0.390625, 0.48828125, 0.48828125,
        0.5371094, 0.6347656, 0.6347656 };

int main(){
    int length = 128;
    int outArcNum = 1;
    setArcFftEnabled(0);
    init(1);
    arcAnalyze(0,current, length, &outArcNum);
    printf("outArcNum=%d\n", outArcNum);
    printf("version=%d\n", getArcAlgoVersion());
    printf("%s %d %s %s", __FILE__, __LINE__, __DATE__, __TIME__);

//    int a=4;
//    f(&a);
//    printf("%d\n", a);
    return 0;
}
